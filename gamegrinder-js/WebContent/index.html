<!DOCTYPE html>
<html lang="en" ng-app>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tests Gamegrinder</title>
<link href="css/bootstrap.css" rel="stylesheet" media="screen">
<link rel="stylesheet" href="css/gg.css">
<!-- link rel="stylesheet" href="css/bootstrap.css"-->
<script src="lib/angular/angular.js"></script>
<script src="js/controllers.js"></script>
<script src="js/filters.js"></script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>

<!-- Bootstrap -->
</head>
<body  ng-controller="GameGrinderCtrl">
<script type="text/javascript">
    $(function () {
        $('body').tooltip({
                    selector: '[data-toggle="tooltip"]',
		    title: function() { 
			var tooltipId = '#tfSettingTooltip-' + $(this).data('dayid') + '-' + $(this).data('timeframe') + '-' + $(this).data('settingcode');
			return $(tooltipId).html();
		    }
                });
	$('.plusButton').tooltip({placement: 'auto', title: 'Maîtriser une partie'});
	$('.chatButton').tooltip({placement: 'auto', title: 'Discussions'});
/*
        $('body').popover({
                    selector: '[data-toggle="popover"]',
		    content: function() {
			 $('.closePopover').click(function() { $(this).popover('destroy'); });
			 return $('#timeframePopover').html();
		    }
*/
/*
	$('.tfSetting').hover(function () {
		var tooltipId = '#tfSettingTooltip-' + $(this).attr('data-dayid') + '-' + $(this).attr('data-timeframe') + '-' + $(this).attr('data-settingcode');
		$(this).tooltip('hide')
			  .attr('data-original-title', $( tooltipId ).html())
			  .tooltip('fixTitle')
			  .tooltip('show');
		});
*/
    });

	function addAvailablePlayer() {
	}

	function addAvailableGM() {
	}

	function addMessage() {
	}

</script>
	<div style="display:none">

		<div ng-repeat="week in weeks">
			<div ng-repeat="day in week.days">
				<div ng-repeat="timeframe in day.timeframes">
					<div ng-repeat="settingtf in timeframe.settings">
						<div class="panel panel-default" id="tfSettingTooltip-{{day.id}}-{{timeframe.code}}-{{settingtf.code}}">
							<div class="panel-body list-group tfSettingTooltipBox">
								<div class="list-group-item tfSettingTooltipHeader">Campagne: {{settingsList[settingtf.code].name}}</div>
								<div class="list-group-item tfSettingTooltipItem">Parties confirmées:</div>
								<div class="list-group-item tfSettingTooltipItem">MJ Disponible(s):</div>
								<div class="list-group-item tfSettingTooltipItem">Joueur(s) Disponible(s):</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	    <div id="chatModal" class="modal fade" tabIndex="-1" role="dialog" aria-hidden="true">
		    <div class="modal-dialog">
		      <div class="modal-content">
			<div class="modal-header">
			  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			  <h4 class="modal-title">Discussions concernant le {{ currentDay }} {{ currentTimeframe }}</h4>
			</div>
			<div class="modal-body list-group">
				<div class="list-group-item">Message 1 ...</div>
				<div class="list-group-item">Message 2 ...</div>
				<textarea class="form-control list-group-item" rows="3" placeholder="Tape ton message ici puis clique sur &quot;Enregistrer&quot;"></textarea>
			</div>
			<div class="modal-footer button-group">
			  <button type="button" class="btn btn-danger" data-dismiss="modal">Fermer</button>
			  <button type="button" class="btn btn-primary" data-dismiss="modal">Enregistrer</button>
			</div>
		      </div><!-- /.modal-content -->
		    </div><!-- /.modal-dialog -->
	     </div>
	</div>
	<div>
		<div class="panel panel-default weekPanel" ng-repeat="week in weeks">
			<div class="panel-body">

				<div class="panel panel-default day{{day.dow}} dayPanel" ng-repeat="day in week.days">
					<div class="panel-body day{{day.dow}} dayBodyPanel">
						<div class="datePanel">
							{{ dowcodes[day.dow] }}<br /> {{ day.dom }} <br /> {{ day.month }}
						</div>
						<div class="timeFramesPanel">
							<div class="panel panel-default timeFramePanel" ng-repeat="timeframe in day.timeframes">
								<div class="timeFrameBodyPanel panel-body">
									<img class="timeFrameItem" src="{{timeframesDesc[timeframe.code].pic}}" data-test="{{timeframe.code}}" /> 
	<a href="#" class="tfSetting" data-toggle="tooltip" data-delay="0" data-placement="auto" data-html="true" data-animation="false" data-title="Et hop !" data-selector="body" data-settingcode="{{settingtf.code}}" data-dayid="{{day.id}}" data-timeframe="{{timeframe.code}}" ng-repeat="settingtf in timeframe.settings">
		<span class="badge">{{settingtf.code}}</span>
	</a>
<div class="dropdown plusBox">
	<a id="plusButton-{{day.id}}-{{timeframe.code}}" href="#plusDrop-{{day.id}}-{{timeframe.code}}" class="tfExtra" data-toggle="dropdown" data-day="{{day.id}}" data-timeframe="{{timeframe.code}}"> <span class="glyphicon glyphicon-plus-sign plusButton"></span> </a>
  <ul class="dropdown-menu" role="menu" aria-labelledby="plusButton-{{day.id}}-{{timeframe.code}}">
	<li class="plusHeader">Je propose de maîtriser...</li>
	<li ng-repeat="setting in settingsList"><a tabindex="-1" href="#">{{setting.name}}</a></li>
  </ul>
</div>
	<a id="chatButton-{{day.id}}-{{timeframe.code}}" href="#chatModal" class="tfExtra" data-toggle="modal" data-day="{{day.id}}" data-timeframe="{{timeframe.code}}" ng-click="selectTimeframe(day.id, timeframe.code)"> <span class="glyphicon glyphicon-comment chatButton"></span> </a>


								</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

<!--
	<div class="mainColumn">


		<script>
		 $(function() {
		// run the currently selected effect
			$( "#dispoModal" ).on('show.bs.modal', function () {
				$( "#dispoCarousel" ).carousel(0);
			});
			$( ".massDispoStatusButton" ).click(function() {
				$( "#dispoCarousel" ).carousel(1);				
				return false;
			});
			$( ".massDispoSettingButton" ).click(function() {
				$(this).addClass("btn-primary");
				$( "#dispoCarousel" ).carousel(2);
				
				return false;
			});
		});
		</script>
	
	<div id="dispoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dispoModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="dispoModalLabel">Je suis dispo pour...</h3>
		</div>
		<div class="modal-body">
		    <div id="dispoCarousel" class="carousel slide" data-interval="false">

			    <div class="carousel-inner">
				<div class="active item btn-group-vertical">
				  <button type="button" class="btn btn-primary massDispoStatusButton">... jouer à...</button>
				  <button type="button" class="btn btn-primary massDispoStatusButton">... maîtriser à...</button>
				</div>
				<div class="item btn-group-vertical">
				  <button type="button" class="btn btn-primary massDispoSettingButton"><span class="badge">EP</span> Eclipse Phase</button>
				  <button type="button" class="btn btn-primary massDispoSettingButton"><span class="badge">7SP</span> 7th Sea: Pirates</button>
				  <button type="button" class="btn btn-primary massDispoSettingButton"><span class="badge">SRQ</span> Shadowrun: Québec</button>
				</div>
				<div class="item" id="dispoSlide3">DIV 3</div>
			    </div>
		    </div>		
		</div>
		<div class="modal-footer">
			<button type="button" class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
			<button type="button" class="btn btn-primary">Save changes</button>
		</div>
	     </div>
	  </div>
	</div>

	<a data-toggle="modal" href="#dispoModal" class="btn btn-primary btn-lg">Donner mes disponibilités</a>
	<div class="panel panel-primary">
		<div class="panel-heading">Je suis dispo pour...</div>
		<div class="panel-body containerPanel">
		      <div class="row availFormRow">
			<div class="col-lg-9">
				<button type="button" class="btn btn-default">Jouer à:</button>
				<span class="badge">EP</span> <span class="badge">7TH</span>
			</div>
			<div class="col-lg-3">
				<button type="button" class="btn btn-default">Modifier</button>
			</div>
		       </div>
		      <div class="row availFormRow">
			<div class="col-lg-9">
				<button type="button" class="btn btn-default">Maîtriser à:</button>
				<span class="badge">EP</span>
			</div>
			<div class="col-lg-3">
				<button type="button" class="btn btn-default">Modifier</button>
			</div>
		      </div>
		</div>
	</div>
	
		<div class="panel panel-primary">
			<div class="panel-heading">Filtres</div>
			<div class="panel-body containerPanel">
				<form class="form-horizontal" role="form">
				<div class="innerHeading">Raccourcis</div>
				<div class="btn-group">
					<button type="button" class="btn btn-default">Mes dispos</button>
					<button type="button" class="btn btn-default">Toutes les parties</button>
					<button type="button" class="btn btn-default">Mes dispos</button>
					<button type="button" class="btn btn-default">Les MJ dispos</button>
				</div>
				<div class="innerHeading">Paramètres détaillés</div>
				<div class="form-group filterFormRow">
					<label class="col-lg-3 control-label" for="inputFilterGameStatus">Parties</label>
					<div class="col-lg-9">
						<select class="form-control" id="inputFilterGameStatus">
						  <option>Toutes</option>
						  <option>Validées</option>
						  <option>Potentielles - MJ Dispo</option>
						  <option>Potentielles - Pas de MJ</option>
						</select>
					</div>
				</div>
				<div class="form-group filterFormRow">
					<label class="col-lg-3 control-label" for="inputFilterSetting">Chronique</label>
					<div class="col-lg-9">
						<select class="form-control" id="inputFilterSetting">
						  <option>Toutes</option>
						  <option>Chronique 1</option>
						  <option>Chronique 2</option>
						  <option>Chronique 3</option>
						</select>
					</div>
				</div>
				<div class="filterFormRow">
					<label class="col-lg-3 control-label">Joueur</label>
					<div class="col-lg-9">
						<label class="checkbox-inline">
						  <input type="checkbox" id="inlineCheckbox1" value="option1"> Tous les joueurs
						</label>
						<label class="checkbox-inline">
						  <input type="checkbox" id="inlineCheckbox2" value="option2"> Seulement Moi
						</label>
					</div>
				</div>
				</form>
			</div>
		</div>
	</div>


		<div class="gg-container">
			<ul>
				<li ng-repeat="week in weeks">
					<p ng-repeat="day in week.days">{{day.dow}}</p>
				</li>
			</ul>
		</div>
	</div>
	-->
</body>
</html>

